using ClashRoyale.Logic;
using ClashRoyale.Utilities.Netty;

namespace ClashRoyale.Protocol.Messages.Server
{
    public class RoyalTvContentMessage : PiranhaMessage
    {
        public RoyalTvContentMessage(Device device) : base(device)
        {
            Id = 24405;
        }

        public int ClassId { set; get; }
        public int InstanceId { set; get; }

        public override void Encode()
        {
            Writer.WriteVInt(0);

            //Writer.WriteHex("000004037B22706C6179657230223A7B226163635F6869223A32362C226163635F6C6F223A31343832313339332C226E616D65223A226E6F716F222C22616C6C69616E6365223A226C652073636F222C227374617273223A312C2273636F7265223A3734302C2273636F72655F70223A3735372C22616C6C695F6869223A302C22616C6C695F6C6F223A3635323631372C22686F6D655F6869223A32362C22686F6D655F6C6F223A31343832313339332C226261646765223A31363030303037382C227370656C6C73223A5B7B2264223A32363030303030367D2C7B2264223A32363030303032307D2C7B2264223A32383030303030347D2C7B2264223A32363030303031382C226C223A317D2C7B2264223A32363030303031317D2C7B2264223A32363030303030332C226C223A327D2C7B2264223A32363030303031342C226C223A317D2C7B2264223A32363030303031327D5D7D2C22706C6179657231223A7B226163635F6869223A35312C226163635F6C6F223A31303533343730362C226E616D65223A224A6F686E2047726179222C22616C6C69616E6365223A22D0B2D0B5D0B7D183D0BDD187D0B8D0BAD0B8222C227374617273223A332C2273636F7265223A3737392C2273636F72655F70223A3734392C22616C6C695F6869223A362C22616C6C695F6C6F223A3336313234372C22686F6D655F6869223A35312C22686F6D655F6C6F223A31303533343730362C226261646765223A31363030303137302C227370656C6C73223A5B7B2264223A32363030303030302C226C223A317D2C7B2264223A32363030303030377D2C7B2264223A32363030303031337D2C7B2264223A32363030303031387D2C7B2264223A32383030303030307D2C7B2264223A32363030303030337D2C7B2264223A32363030303030327D2C7B2264223A32363030303031357D5D7D2C22706C6179657232223A7B226163635F6869223A302C226163635F6C6F223A302C22616C6C695F6869223A302C22616C6C695F6C6F223A302C22686F6D655F6869223A302C22686F6D655F6C6F223A307D2C22706C6179657233223A7B226163635F6869223A302C226163635F6C6F223A302C22616C6C695F6869223A302C22616C6C695F6C6F223A302C22686F6D655F6869223A302C22686F6D655F6C6F223A307D2C226172656E61223A35343030303030322C227265706C617956223A36342C226368616C6C656E6765223A66616C73652C22746F75726E616D656E74223A66616C73652C22667269656E646C795F6368616C6C656E6765223A66616C73652C22737572766976616C223A66616C73652C2267616D655F636F6E666967223A7B22676D74223A312C22706C74223A312C2267616D656D6F6465223A37323030303030362C22743173223A302C22743273223A307D7D");

            /*Writer.WriteScString("{\"player0\":{\"acc_hi\":0,\"acc_lo\":1,\"name\":\"Test 1\",\"alliance\":\"Test\",\"stars\":1,\"score\":0,\"score_p\":30,\"alli_hi\":0,\"alli_lo\":1,\"home_hi\":0,\"home_lo\":1,\"badge\":16000078,\"spells\":[{\"d\":26000006},{\"d\":26000020},{\"d\":28000004},{\"d\":26000018,\"l\":1},{\"d\":26000011},{\"d\":26000003,\"l\":2},{\"d\":26000014,\"l\":1},{\"d\":26000012}]},\"player1\":{\"acc_hi\":0,\"acc_lo\":2,\"name\":\"Test 2\",\"alliance\":\"Test\",\"stars\":3,\"score\":30,\"score_p\":0,\"alli_hi\":0,\"alli_lo\":1,\"home_hi\":0,\"home_lo\":2,\"badge\":16000078,\"spells\":[{\"d\":26000000,\"l\":1},{\"d\":26000007},{\"d\":26000013},{\"d\":26000018},{\"d\":28000000},{\"d\":26000003},{\"d\":26000002},{\"d\":26000015}]},\"player2\":{\"acc_hi\":0,\"acc_lo\":0,\"alli_hi\":0,\"alli_lo\":0,\"home_hi\":0,\"home_lo\":0},\"player3\":{\"acc_hi\":0,\"acc_lo\":0,\"alli_hi\":0,\"alli_lo\":0,\"home_hi\":0,\"home_lo\":0},\"arena\":54000002,\"replayV\":64,\"challenge\":false,\"tournament\":false,\"friendly_challenge\":false,\"survival\":false,\"game_config\":{\"gmt\":1,\"plt\":1,\"gamemode\":72000006,\"t1s\":0,\"t2s\":0}}");

            Writer.WriteVInt(0);

            // Replay Version
            Writer.WriteVInt(3);
            Writer.WriteVInt(377); 
            Writer.WriteVInt(8); 

            Writer.WriteVInt(99999); // Views

            Writer.WriteVInt(0);
            Writer.WriteVInt(1);
            Writer.WriteVInt(3600); // Age

            Writer.WriteVInt(0); // ReplayShardId?

            Writer.WriteVInt(1);
            Writer.WriteVInt(26);

            Writer.WriteLong(1783956694); // ReplayId*/

            Writer.WriteVInt(ClassId);
            Writer.WriteVInt(InstanceId);
        }
    }
}